all: caro_server caro_client caro_play chat popup

caro_play: caro_play.o protocol.o
	gcc -o caro_play caro_play.o protocol.o `pkg-config --cflags --libs gtk+-3.0` -export-dynamic

caro_client: caro_client.o protocol.o 
	gcc -o caro_client caro_client.o protocol.o `pkg-config --cflags --libs gtk+-3.0` -export-dynamic

caro_server: caro_server.o protocol.o queue.o
	gcc -o caro_server caro_server.o protocol.o queue.o -lpthread

popup: popup.o
	gcc -o popup popup.o `pkg-config --cflags --libs gtk+-3.0` -export-dynamic

chat: chat.o protocol.o
	gcc -o chat chat.o protocol.o

queue.o: queue.c
	gcc -c queue.c

protocol.o: protocol.c
	gcc -c protocol.c

caro_server.o: caro_server.c
	gcc -c caro_server.c

caro_client.o: caro_client.c
	gcc -c caro_client.c `pkg-config --cflags --libs gtk+-3.0` -export-dynamic

caro_play.o: caro_play.c
	gcc -c caro_play.c `pkg-config --cflags --libs gtk+-3.0` -export-dynamic

popup.o: popup.c
	gcc -c popup.c `pkg-config --cflags --libs gtk+-3.0` -export-dynamic

chat.o: chat.c
	gcc -c chat.c

clean:
	rm -rf *o caro_server caro_client caro_play popup chat
